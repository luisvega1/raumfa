Date.now||(Date.now=function(){return(new Date).getTime()});
var ServerDate=function(t){function a(){return this?a:a.toString()}function l(b,a){this.value=b;this.precision=a}function n(b){var k="Set target to "+String(b);c&&(k+=" ("+(b>c?"+":"-")+" "+Math.abs(b-c)+" ms)");c=b;g(k+".");b=Math.abs(c-d);b>a.amortizationThreshold&&(g("Difference between target and offset too high ("+b+" ms); skipping amortization."),d=c)}function e(){function b(){var h=new XMLHttpRequest;h.open("HEAD","https://rocket.watch/time?noCache="+Date.now()+parseInt(1E6*Math.random()));
h.onreadystatechange=function(){this.readyState==this.HEADERS_RECEIVED&&200==this.status&&(d=Date.now())};h.onload=function(){if(200==this.status)try{var h=(new Date(this.getResponseHeader("Date"))).getTime(),f=(d-c)/2,k=new l(h+f-d,f);g("sample: "+a+", offset: "+String(k));if(1==a||f<=e.precision)e=k;10>a?(a++,b()):(n(e),m=!1)}catch(u){g("Unable to read the server's response.")}};c=Date.now();h.send()}var a=1,c,d,e;m||(m=!0,setTimeout(function(){m=!1},1E4),b())}function g(a){console&&console.log&&
console.log("[ServerDate] "+a)}var p=Date.now(),q,r,f,d,c=null,m=!1;a.parse=Date.parse;a.UTC=Date.UTC;a.now=function(){return Date.now()+d};"toString toDateString toTimeString toLocaleString toLocaleDateString toLocaleTimeString valueOf getTime getFullYear getUTCFullYear getMonth getUTCMonth getDate getUTCDate getDay getUTCDay getHours getUTCHours getMinutes getUTCMinutes getSeconds getUTCSeconds getMilliseconds getUTCMilliseconds getTimezoneOffset toUTCString toISOString toJSON".split(" ").forEach(function(b){a[b]=
function(){return(new Date(a.now()))[b]()}});a.getPrecision=function(){if("undefined"!=typeof c.precision)return c.precision+Math.abs(c-d)};a.amortizationRate=25;a.amortizationThreshold=2E3;Object.defineProperty(a,"synchronizationIntervalDelay",{get:function(){return q},set:function(b){q=b;clearInterval(r);r=setInterval(e,a.synchronizationIntervalDelay);g("Set synchronizationIntervalDelay to "+b+" ms.")}});a.synchronizationIntervalDelay=6E5;l.prototype.valueOf=function(){return this.value};l.prototype.toString=
function(){return this.value+("undefined"!=typeof this.precision?" +/- "+this.precision:"")+" ms"};d=t-p;"undefined"!=typeof performance&&(f=(p-performance.timing.domLoading)/2,d+=f);n(new l(d,f));setInterval(function(){var b=Math.max(-a.amortizationRate,Math.min(a.amortizationRate,c-d));d+=b;b&&g("Offset adjusted by "+b+" ms to "+d+" ms (target: "+c.value+" ms).")},1E3);window.addEventListener("pageshow",e);e();return a}(Date.now());
